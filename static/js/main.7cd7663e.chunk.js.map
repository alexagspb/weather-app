{"version":3,"sources":["ducks/loading/actions.js","ducks/loading/reducers.js","ducks/cities/actions.js","ducks/cities/reducers.js","ducks/index.js","localstorage.js","api.js","sagas/city.js","sagas/cities.js","sagas/index.js","store.js","components/City/City.js","helpers.js","components/Day/Day.js","components/Weather/Weather.js","ducks/loading/selectors.js","ducks/cities/selectors.js","App.js","index.js"],"names":["getCityRequest","createActions","updateCityRequest","getCitySuccess","getCityError","setCityActive","loading","handleActions","_handleActions","Object","defineProperty","toString","getCitiesRequest","selectCityRequest","getCitiesSuccess","removeCityRequest","removeCitySuccess","activeCity","reducers_handleActions","_state","action","payload","citiesList","_handleActions2","state","toConsumableArray","concat","filter","item","name","error","_handleActions3","combineReducers","cities","getCitiesFromLocalStorage","localStorage","getItem","JSON","parse","setCities","setItem","stringify","getCityFromLocalStorage","id","list","setCityToLocalStorage","_ref","removeCityFromLocalStorage","baseURL","apiKey","api","fetchForecastByLocation","location","fetch","then","res","json","fetchForecastByCoords","_ref2","lat","lon","watchFetchCity","fetchCity","regenerator_default","a","wrap","_context","prev","next","takeEvery","stop","_marked","this","_getCityFromLocalStor","existCity","_id","_name","_list","_ref$city","_context2","type","put","t0","sent","city","call","t1","_marked2","watchFetchCities","fetchCities","cities_marked","citiesArr","push","cities_marked2","sagas_callee","fork","sagas_marked","sagaMiddleware","createSagaMiddleware","City","props","react_default","createElement","className","isActive","onClick","updateCity","selectCity","removeCity","daysMap","0","1","2","3","4","5","6","monthsMap","7","8","9","10","11","convertTemp","kelvin","parseInt","Day","unixTimestmap","timestamp","Date","day","getDay","date","getDate","month","getMonth","dt","weather","description","temp","min","max","humidity","Weather","handleInputChange","e","_this","setState","target","value","handleKeyPress","key","trim","length","handleClick","getcurrentLocation","console","log","navigator","geolocation","Promise","resolve","reject","getCurrentPosition","pos","coords","latitude","longitude","_this2","_this$props","placeholder","onChange","onKeyPress","index_umd_default","size","color","gap","map","City_City","Day_Day","PureComponent","mapDispatchToProps","connect","getLoading","getError","getCitiesList","getActiveCity","App","components_Weather_Weather","Component","store","initialState","createStore","rootReducer","compose","applyMiddleware","window","devToolsExtension","__REDUX_DEVTOOLS_EXTENSION__","f","run","rootSaga","ReactDOM","render","react_redux_es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.7cd7663e.chunk.js","sourcesContent":["import { createActions } from \"redux-actions\";\n\nexport const { getCityRequest } = createActions(\"GET_CITY_REQUEST\");\nexport const { updateCityRequest } = createActions(\"UPDATE_CITY_REQUEST\");\nexport const { getCitySuccess } = createActions(\"GET_CITY_SUCCESS\");\nexport const { getCityError } = createActions(\"GET_CITY_ERROR\");\nexport const { setCityActive } = createActions(\"SET_CITY_ACTIVE\");\n","import { handleActions } from \"redux-actions\";\nimport {\n  getCityRequest,\n  updateCityRequest,\n  getCitySuccess,\n  getCityError,\n  setCityActive\n} from \"./actions\";\n\nconst loading = handleActions(\n  {\n    [getCityRequest.toString()]: () => true,\n    [updateCityRequest.toString()]: () => true,\n    [getCitySuccess.toString()]: () => false,\n    [getCityError.toString()]: () => false,\n    [setCityActive.toString()]: () => false\n  },\n  false\n);\n\nexport default loading;\n","import { createActions } from \"redux-actions\";\n\nexport const { getCityRequest } = createActions(\"GET_CITY_REQUEST\");\nexport const { getCitiesRequest } = createActions(\"GET_CITIES_REQUEST\");\nexport const { updateCityRequest } = createActions(\"UPDATE_CITY_REQUEST\");\nexport const { selectCityRequest } = createActions(\"SELECT_CITY_REQUEST\");\nexport const { getCitySuccess } = createActions(\"GET_CITY_SUCCESS\");\nexport const { getCitiesSuccess } = createActions(\"GET_CITIES_SUCCESS\");\nexport const { getCityError } = createActions(\"GET_CITY_ERROR\");\nexport const { removeCityRequest } = createActions(\"REMOVE_CITY_REQUEST\");\nexport const { removeCitySuccess } = createActions(\"REMOVE_CITY_SUCCESS\");\nexport const { setCityActive } = createActions(\"SET_CITY_ACTIVE\");\n","import { handleActions } from \"redux-actions\";\nimport { combineReducers } from \"redux\";\nimport {\n  getCitySuccess,\n  getCitiesSuccess,\n  getCityError,\n  removeCitySuccess,\n  setCityActive\n} from \"./actions\";\n\nconst activeCity = handleActions(\n  {\n    [setCityActive.toString()]: (_state, action) => action.payload,\n    [removeCitySuccess.toString()]: _state => ({})\n  },\n  {}\n);\n\nconst citiesList = handleActions(\n  {\n    [getCitySuccess.toString()]: (state, action) => [...state, action.payload],\n    [getCitiesSuccess.toString()]: (_state, action) => action.payload,\n    [getCityError.toString()]: state => state,\n    [removeCitySuccess.toString()]: (state, action) =>\n      state.filter(item => item.name !== action.payload)\n  },\n  []\n);\n\nconst error = handleActions(\n  {\n    [getCitySuccess.toString()]: _state => ({}),\n    [getCityError.toString()]: (_state, action) => action.payload\n  },\n  {}\n);\n\nexport default combineReducers({ citiesList, activeCity, error });\n","import { combineReducers } from \"redux\";\nimport loading from \"./loading\";\nimport cities from \"./cities\";\n\nexport default combineReducers({ loading, cities });\n","export function getCitiesFromLocalStorage() {\n  let cities = localStorage.getItem(\"cities\");\n  cities = cities ? JSON.parse(cities) : {};\n  return cities;\n}\n\nfunction setCities(cities) {\n  localStorage.setItem(\"cities\", JSON.stringify(cities));\n}\n\nexport function getCityFromLocalStorage(name) {\n  let cities = getCitiesFromLocalStorage();\n\n  if (name in cities) {\n    return { name, id: cities[name].id, list: cities[name].list };\n  } else {\n    return null;\n  }\n}\n\nexport function setCityToLocalStorage({ id, name, list }) {\n  let cities = getCitiesFromLocalStorage();\n\n  if (!(name in cities)) {\n    cities[name] = { id, list };\n  }\n\n  setCities(cities);\n}\n\nexport function removeCityFromLocalStorage(name) {\n  let cities = getCitiesFromLocalStorage();\n\n  if (name in cities) {\n    delete cities[name];\n  }\n\n  setCities(cities);\n}\n","const baseURL = `https://api.openweathermap.org/data/2.5/`;\nconst apiKey = `e539b3dcdce62f43d0c9eac4ff2b6ab4`;\n\nconst api = {\n  fetchForecastByLocation: function({ location }) {\n    return fetch(\n      `${baseURL}forecast/daily?q=${location}&type=accurate&APPID=${apiKey}&cnt=5`\n    ).then(res => res.json());\n  },\n  fetchForecastByCoords: function({ lat, lon }) {\n    return fetch(\n      `${baseURL}forecast/daily?lat=${lat}&lon=${lon}&type=accurate&APPID=${apiKey}&cnt=5`\n    ).then(res => res.json());\n  }\n};\n\nexport default api;\n","import { takeEvery, put, call } from \"redux-saga/effects\";\nimport {\n  getCityRequest,\n  getCitySuccess,\n  updateCityRequest,\n  getCityError,\n  removeCityRequest,\n  removeCitySuccess,\n  selectCityRequest,\n  setCityActive\n} from \"../ducks/cities\";\n\nimport {\n  getCityFromLocalStorage,\n  setCityToLocalStorage,\n  removeCityFromLocalStorage\n} from \"../localstorage\";\n\nimport api from \"../api\";\n\nexport function* watchFetchCity() {\n  yield takeEvery(\n    [getCityRequest, removeCityRequest, selectCityRequest, updateCityRequest],\n    fetchCity\n  );\n}\n\nfunction* fetchCity(action) {\n  if (action.type === selectCityRequest().type) {\n    const { id, name, list } = getCityFromLocalStorage(action.payload);\n    yield put(setCityActive({ id, name, list }));\n  }\n\n  if (\n    action.type === getCityRequest().type ||\n    action.type === updateCityRequest().type\n  ) {\n    let existCity = getCityFromLocalStorage(action.payload);\n    let id, name, list;\n\n    if (existCity && action.type !== updateCityRequest().type) {\n      ({ id, name, list } = existCity);\n    } else {\n      try {\n        ({\n          city: { id, name },\n          list\n        } = action.payload.location\n          ? yield api.fetchForecastByLocation(action.payload)\n          : yield api.fetchForecastByCoords(action.payload));\n\n        if (action.type === updateCityRequest().type) {\n          yield put(removeCitySuccess(action.payload.location));\n          yield call(removeCityFromLocalStorage, action.payload.location);\n        }\n\n        yield put(getCitySuccess({ id, name, list }));\n        yield call(setCityToLocalStorage, { id, name, list });\n      } catch (error) {\n        yield put(getCityError({ error: \"Укажите корректный город\" }));\n      }\n    }\n\n    yield put(setCityActive({ id, name, list }));\n  }\n\n  if (action.type === removeCityRequest().type) {\n    yield put(removeCitySuccess(action.payload));\n    yield call(removeCityFromLocalStorage, action.payload);\n  }\n}\n","import { takeEvery, put } from \"redux-saga/effects\";\nimport { getCitiesRequest, getCitiesSuccess } from \"../ducks/cities\";\n\nimport { getCitiesFromLocalStorage } from \"../localstorage\";\n\nexport function* watchFetchCities() {\n  yield takeEvery([getCitiesRequest, getCitiesSuccess], fetchCities);\n}\n\nfunction* fetchCities(action) {\n  if (action.type === getCitiesRequest().type) {\n    let cities = getCitiesFromLocalStorage();\n\n    let citiesArr = [];\n\n    for (let name in cities) {\n      citiesArr.push({\n        name: name,\n        id: cities[name].id,\n        list: cities[name].list\n      });\n    }\n\n    yield put(getCitiesSuccess(citiesArr));\n  }\n}\n","import { fork } from \"redux-saga/effects\";\nimport { watchFetchCity } from \"./city\";\nimport { watchFetchCities } from \"./cities\";\n\nexport default function*() {\n  yield fork(watchFetchCities);\n  yield fork(watchFetchCity);\n}\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"./ducks\";\nimport rootSaga from \"./sagas\";\nimport createSagaMiddleware from \"redux-saga\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default initialState => {\n  const store = createStore(\n    rootReducer,\n    initialState,\n    compose(\n      applyMiddleware(sagaMiddleware),\n      window.devToolsExtension ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\n    )\n  );\n\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n};\n","import React from \"react\";\nimport \"./City.css\";\n\nexport default function City(props) {\n  return (\n    <div className={`${props.isActive ? \"City City_active\" : \"City\"}`}>\n      <div\n        className=\"City__update\"\n        onClick={() => props.updateCity(props.item.name)}\n      />\n      <div\n        className=\"City__name\"\n        onClick={() => props.selectCity(props.item.name)}\n      >\n        {props.item.name}\n      </div>\n      <div\n        className=\"City__remove\"\n        onClick={() => props.removeCity(props.item.name)}\n      />\n    </div>\n  );\n}\n","const daysMap = {\n  \"0\": \"Sunday\",\n  \"1\": \"Monday\",\n  \"2\": \"Tuesday\",\n  \"3\": \"Wednesday\",\n  \"4\": \"Thursday\",\n  \"5\": \"Friday\",\n  \"6\": \"Saturday\"\n};\n\nconst monthsMap = {\n  \"0\": \"Jan\",\n  \"1\": \"Feb\",\n  \"2\": \"Mar\",\n  \"3\": \"Apr\",\n  \"4\": \"May\",\n  \"5\": \"June\",\n  \"6\": \"July\",\n  \"7\": \"Aug\",\n  \"8\": \"Sept\",\n  \"9\": \"Oct\",\n  \"10\": \"Nov\",\n  \"11\": \"Dec\"\n};\n\nfunction convertTemp(kelvin) {\n  return parseInt((kelvin - 273.15) * 1.8 + 32.0, 10);\n}\n\nfunction getDate(unixTimestmap) {\n  let timestamp = new Date(unixTimestmap * 1000);\n  let day = daysMap[timestamp.getDay()];\n  let date = timestamp.getDate();\n  let month = monthsMap[timestamp.getMonth()];\n  return `${day}, ${month} ${date}`;\n}\n\nexport { convertTemp, getDate };\n","import React from \"react\";\nimport { convertTemp, getDate } from \"../../helpers\";\nimport \"./Day.css\";\n\nexport default function Day(props) {\n  return (\n    <div className=\"Day\">\n      <h3>{getDate(props.item.dt)}</h3>\n      <p>{props.item.weather[0].description}</p>\n      <p>min temp: {convertTemp(props.item.temp.min)} degrees</p>\n      <p>max temp: {convertTemp(props.item.temp.max)} degrees</p>\n      <p>humidity: {props.item.humidity}</p>\n    </div>\n  );\n}\n","import React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"react-svg-spinner\";\n\nimport \"./Weather.css\";\n\nimport City from \"../City\";\nimport Day from \"../Day\";\n\nimport {\n  getCityRequest,\n  getCitiesRequest,\n  removeCityRequest,\n  updateCityRequest,\n  selectCityRequest,\n  getCitiesList,\n  getActiveCity,\n  getError\n} from \"../../ducks/cities\";\n\nimport { getLoading } from \"../../ducks/loading\";\n\nclass Weather extends PureComponent {\n  state = { city: \"\" };\n\n  handleInputChange = e => {\n    this.setState({ city: e.target.value });\n  };\n\n  handleKeyPress = e => {\n    const { city } = this.state;\n    const { getCityRequest } = this.props;\n\n    if (e.key === \"Enter\" && city.trim().length) {\n      getCityRequest({ location: city });\n      this.setState({ city: \"\" });\n    }\n  };\n\n  handleClick = e => {\n    const { city } = this.state;\n    const { getCityRequest } = this.props;\n\n    if (city.trim().length) {\n      getCityRequest({ location: city });\n      this.setState({ city: \"\" });\n    }\n  };\n\n  async componentDidMount() {\n    this.props.getCitiesRequest();\n\n    const { lat, lon } = await this.getcurrentLocation();\n    console.log(lat, lon);\n    this.props.getCityRequest({ lat, lon });\n  }\n\n  getcurrentLocation() {\n    if (navigator && navigator.geolocation) {\n      return new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(pos => {\n          const coords = pos.coords;\n          resolve({\n            lat: coords.latitude,\n            lon: coords.longitude\n          });\n        });\n      });\n    }\n  }\n\n  removeCity = name => {\n    this.props.removeCityRequest(name);\n  };\n\n  updateCity = name => {\n    this.props.updateCityRequest({ location: name });\n  };\n\n  selectCity = name => {\n    this.props.selectCityRequest(name);\n  };\n\n  render() {\n    const { city } = this.state;\n    const { loading, error, citiesList, activeCity } = this.props;\n\n    return (\n      <div className=\"Weather\">\n        <input\n          className=\"Weather__input\"\n          placeholder=\"Введите город\"\n          value={city}\n          onChange={this.handleInputChange}\n          onKeyPress={this.handleKeyPress}\n        />\n        <button onClick={this.handleClick} className=\"Weather__button\">\n          Добавить город\n        </button>\n\n        <div className=\"Weather__error\">{error}</div>\n\n        {loading ? (\n          <div className=\"spinner row justify-content-md-center\">\n            <Spinner size=\"64px\" color=\"blue\" gap={5} />\n          </div>\n        ) : (\n          <div>\n            <div className=\"Weather__cities\">\n              {citiesList &&\n                citiesList.map(item => (\n                  <City\n                    key={item.id}\n                    isActive={activeCity.id === item.id}\n                    item={item}\n                    selectCity={this.selectCity}\n                    updateCity={this.updateCity}\n                    removeCity={this.removeCity}\n                  />\n                ))}\n            </div>\n            <div className=\"Weather__days\">\n              {activeCity.list &&\n                activeCity.list.map(item => <Day key={item.dt} item={item} />)}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  loading: getLoading(state),\n  error: getError(state),\n  citiesList: getCitiesList(state),\n  activeCity: getActiveCity(state)\n});\n\nconst mapDispatchToProps = {\n  getCityRequest,\n  getCitiesRequest,\n  removeCityRequest,\n  updateCityRequest,\n  selectCityRequest\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Weather);\n","export const getLoading = state => state.loading;\n","export const getCitiesList = state => state.cities.citiesList;\nexport const getActiveCity = state => state.cities.activeCity;\nexport const getError = state => state.cities.error.error;\n","import React, { Component } from \"react\";\nimport Weather from \"./components/Weather\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Weather />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport createStore from \"./store\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import * as serviceWorker from \"./serviceWorker\";\n\nconst store = createStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n// serviceWorker.unregister();\n"],"sourceRoot":""}